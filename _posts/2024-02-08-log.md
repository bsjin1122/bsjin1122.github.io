---
title: "[java] ë„ì„œ ì‹¤ë¬´ì—ì„œ ë°”ë¡œ í†µí•˜ëŠ” ìë°”-ë¡œê·¸ ì¶œë ¥"
excerpt: "github ë¸”ë¡œê·¸ ì—…ë¡œë“œìš©(ì‘ì„± ì§„í–‰ì¤‘)"

categories: [TIL, Java]
tags:
  - [Java]
toc: true
toc_sticky: true

date: 2024-02-05
last_modified_at: 2024-02-05
---

# ë¡œê·¸ ì¶œë ¥

ë¡œê·¸: ì»´í“¨í„° ì´ìš© ìƒí™©ì´ë‚˜ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ìƒí™©, ë°ì´í„° ì†¡ìˆ˜ì‹  ìƒí™© ë“±ì„ ê¸°ë¡í•œ íŒŒì¼

- OSë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìƒì„±í•˜ëŠ” íŒŒì¼ë¡œ, ë‚ ì§œì™€ ì²˜ë¦¬ ë‚´ìš© ë“±ì´ ê¸°ë¡ëœë‹¤.
- í™•ì¥ì `.log`
- ë¡œê·¸ë¥¼ ë¶„ì„í•¨ìœ¼ë¡œì¨ ì–¸ì œ, ëˆ„ê°€, ë¬´ì—‡, ì–´ë–»ê²Œ í–ˆëŠ”ì§€ ë“±ì„ íŒŒì•…

> - ë¡œê¹…: ë¡œê·¸ë¥¼ ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡í•˜ëŠ” ì²˜ë¦¬
> - ë¡œê±°: ì‹œìŠ¤í…œ ê°€ë™ ì¤‘ ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ëŠ” í”„ë¡œê·¸ë¨

## ë¡œê·¸ì˜ ì¢…ë¥˜

- ì„œë²„ì™€ ë„¤íŠ¸ì›Œí¬ ê¸°ê¸°ì˜ ì‹œìŠ¤í…œ ë¡œê·¸
- ì¸ì¦ ë¡œê·¸
- ë°ì´í„°ë² ì´ìŠ¤ ê°ì‚¬ ë¡œê·¸
- ì‚¬ì´íŠ¸ ì•¡ì„¸ìŠ¤ ë¡œê·¸

## ìë°”ì˜ ë¡œê¹… API

- ìë°”ì—ì„œëŠ” í‘œì¤€ ë¡œê·¸ ê¸°ëŠ¥ì´ java.util.logging íŒ¨í‚¤ì§€ë¡œ ì œê³µ
- java.util.logging ì€ ìë°” 1.4ë¶€í„° ë“±ì¥
- (ê·¸ ì´ì „ ìë°”ì—ì„œëŠ” ë¡œê¹… APIê°€ ê¸°ë³¸ìœ¼ë¡œ ì œê³µë˜ì§€ ì•Šì•˜ìŒ)

### ì™œ ë¡œê±° í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê¹Œ?

- `System.out.println()` ë©”ì„œë“œë¥¼ í° ê·œëª¨ì—ì„œëŠ” ì¼ì¼ì´ ì¶”ê°€í•˜ê³  ì»´íŒŒì¼ í•˜ì—¬ ë‹¤ì‹œ ë™ì‘ì„ í™•ì¸í•˜ëŠ” ê³¼ì •ì€ ë¹„íš¨ìœ¨ì ì´ê¸° ë•Œë¬¸ì´ë‹¤.
- ë³´í†µ println ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë¡œê·¸ë¥¼ ìœ„í•´ ì¶”ê°€í–ˆìŒì„ ë‚˜ì¤‘ì— ì•Œ ìˆ˜ ìˆê²Œ ì†ŒìŠ¤ì½”ë“œì— `TODO` ë“±ì˜ í‘œì‹œë¥¼ ë‚¨ê²¨ì•¼ í•œë‹¤.
- ì‚­ì œí•  ë•ŒëŠ” í•„ìš”í•œ ì½”ë“œê¹Œì§€ ì‚­ì œí•´ë²„ë¦´ ìœ„í—˜ë„ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

### ë¡œê·¸ ë ˆë²¨

- ë¡œê·¸ë ˆë²¨: ë¡œê·¸ë¥¼ ì–´ë””ê¹Œì§€ ì¶œë ¥í• ì§€ ê²°ì •í•˜ëŠ” ê¸°ì¤€ê°’ì´ë‹¤.
- ë¡œê±°ëŠ” ì§€ì •í•œ ë ˆë²¨ì— ë”°ë¼ ì¶œë ¥í•  ë‚´ìš©ì„ ìë™ìœ¼ë¡œ ì¶”ì¶œí•´ì¤€ë‹¤.
- ë¡œê·¸ ë ˆë²¨ì— ë”°ë¼ ìš©ë„ì— ë§ê²Œ í•„ìš”í•œ ë¡œê·¸ë§Œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

| ë¡œê·¸ ë ˆë²¨ | ì¶œë ¥í•  ë¡œê·¸ì˜ ë‚´ìš©           |
| :-------- | :--------------------------- |
| SEVERE    | ë§¤ìš° ì¤‘ìš”                    |
| WARNING   | ê²½ê³                          |
| INFO      | ì •ë³´                         |
| CONFIG    | êµ¬ì„±ì˜ ì„¤ì •ì— ê´€í•œ ì •ë³´      |
| FINE      | ë””ë²„ê·¸ ë“±ì— í•„ìš”í•œ ìƒì„¸ ì •ë³´ |
| FINER     | ì¢€ ë” ìƒì„¸í•œ ì •ë³´            |
| FINESET   | ì•„ì£¼ ìƒì„¸í•œ ì •ë³´             |
| ALL       | ëª¨ë“  ë¡œê·¸ë¥¼ ì¶œë ¥             |
| NONE      | ì¶œë ¥í•˜ì§€ ì•ŠìŒ                |

- ì‹œìŠ¤í…œ ìš´ì˜ ì‹œì—ëŠ” ì¼ë°˜ì ìœ¼ë¡œ `INFO`: ê¸°ë³¸ ë¡œê·¸ ë ˆë²¨
- ë¡œê·¸ ë ˆë²¨ì€ í”„ë¡œê·¸ë¨ í˜¹ì€ í”„ë¡œí¼í‹° íŒŒì¼ì˜ `.level` í•­ëª©ì—ì„œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

---

### ë¡œê·¸ ì¶œë ¥ ë°©ì‹

- java.util.logging íŒ¨í‚¤ì§€ì—ì„œëŠ” ë¡œê·¸ ì¶œë ¥ì„ ë‹´ë‹¹í•˜ëŠ” í•¸ë“¤ëŸ¬ë¥¼ ë°”ê¿”ì„œ ë¡œê·¸ ì¶œë ¥ ë°©ì‹ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
- ì•„ë˜ì˜ í‘œëŠ” ê¸°ë³¸ìœ¼ë¡œ ì œê³µë˜ëŠ” í•¸ë“¤ëŸ¬ì´ë‹¤.

| ì´ë¦„           | ì„¤ëª…                                                         |
| :------------- | :----------------------------------------------------------- |
| StreamHandler  | í•¸ë“¤ëŸ¬ì˜ ê¸°ì € í´ë˜ìŠ¤ë¡œ, ìŠ¤íŠ¸ë¦¼ìƒì— ë¡œê·¸ë¥¼ ì¶œë ¥í•œë‹¤.          |
| ConsoleHandler | ì½˜ì†”ì— ë¡œê·¸ë¥¼ ì¶œë ¥í•œë‹¤.                                      |
| FileHandler    | ì§€ì •í•œ íŒŒì¼ì— ë¡œê·¸ë¥¼ ì¶œë ¥í•œë‹¤.                               |
| SocketHandler  | ë™ì‘ í™˜ê²½ì˜ ë¡œê·¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•˜ê³  ì‹¶ì€ ê²½ìš°ì— ì‚¬ìš©í•œë‹¤. |
| MemoryHandler  | ë©”ëª¨ë¦¬ì— ë¡œê·¸ë¥¼ ìºì‹±í•œë‹¤.                                    |

- í•¸ë“¤ëŸ¬ëŠ” í”„ë¡œí¼í‹° íŒŒì¼ì˜ `.handles` í•­ëª©ì—ì„œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
- ìœ„ì— ë³µìˆ˜í˜•ìœ¼ë¡œ ëœ ê²ƒì²˜ëŸ¼, ğŸ‘‰`ì¶œë ¥ë°©ì‹ì„ ë³µìˆ˜`ë¡œ ì„¤ì •í•  ìˆ˜ë„ ìˆë‹¤.
- ë¡œê·¸ ë ˆë²¨ë„ í•¸ë“¤ëŸ¬ ë‹¨ìœ„ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

### ë¡œê·¸ ì¶œë ¥ í˜•ì‹

- ë¡œê·¸ë¥¼ ì¶œë ¥í•  ë•Œ í˜•ì‹ì€ í¬ë§¤í„°(Formatter)ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
- java.util.logging íŒ¨í‚¤ì§€ í¬ë§¤í„°ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì¢…ë¥˜ê°€ ìˆë‹¤.
  > - ê°„ë‹¨í•œ ì¢…ë¥˜ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•œ `SimpleFormatter`
  > - XML í˜•ì‹ìœ¼ë¡œ ë¡œê·¸ë¥¼ ì¶œë ¥í•˜ëŠ” XMLFormatter
- ìë°” 7ë¶€í„°ëŠ” SimpleFormatterì—ì„œ ì‚¬ìš©í•  í¬ë§¤í„°ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆê²Œ ëë‹¤.
  --> ê¸°ë³¸ í¬ë§·ì€ ì½ê¸°ê°€ ì–´ë ¤ìš°ë¯€ë¡œ ìš°ì„ ì€ ì§ì ‘ í¬ë§· ì„¤ì •
- í”„ë¡œí¼í‹° íŒŒì¼: `.formatter` ë¼ëŠ” í•­ëª©ì—ì„œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

| ì´ë¦„            | ì„¤ëª…                                                                             |
| :-------------- | :------------------------------------------------------------------------------- |
| SimpleFormatter | ìë°” 6 ì´ì „ì—ëŠ” 1~2í–‰ìœ¼ë¡œ ë¡œê·¸ë¥¼ ì¶œë ¥. ìë°” 7ë¶€í„°ëŠ” í¬ë§¤í„°ë¥¼ ì‚¬ìš©ìí™”í•  ìˆ˜ ìˆë‹¤. |
| XMLFormatter    | XMLí˜•ì‹ìœ¼ë¡œ ë¡œê·¸ë¥¼ ì¶œë ¥í•œë‹¤.                                                     |

```java
// SimpleFormatter ì‚¬ìš© ì˜ˆ
java.util.logging.SimpleFormatter.format = %1tFT%1$tT, %1$tL+%1$tZ %2$s %3$s \%4$s %5$s %6$s%n
```

<br>

- %1$tF: 1$ë¡œ íŒŒë¼ë¯¸í„° dateë¥¼ ë‚ ì§œ í˜•ì‹(YYYY-mm-DD)ë¡œ ì„¤ì •
- %1$tT: 1$ë¡œ íŒŒë¼ë¯¸í„° dateë¥¼ ì‹œê° í˜•ì‹(HH:MM:SS)ìœ¼ë¡œ ì„¤ì •
- %1$tL: 1$ë¡œ íŒŒë¼ë¯¸í„° dateë¥¼ 3ìë¦¬ ë°€ë¦¬ì´ˆ í˜•ì‹ìœ¼ë¡œ ì„¤ì •
- %1$tZ: 1$ë¡œ íŒŒë¼ë¯¸í„° dateë¥¼ ì‹œê°„ëŒ€ ëª…ì¹­ì„ ì¶œë ¥
- %2$s: 2$ë¡œ íŒŒë¼ë¯¸í„° sourceë¥¼ ë¬¸ìì—´(s)ë¡œ ì„¤ì •í•œë‹¤.
- %3$s: 3$ë¡œ íŒŒë¼ë¯¸í„° loggerë¥¼ ë¬¸ìì—´(s)ë¡œ ì„¤ì •
- %4$s: 4$ë¡œ íŒŒë¼ë¯¸í„° levelì„ ë¬¸ìì—´(s)ë¡œ ì„¤ì •
- %5$s: 5$ë¡œ íŒŒë¼ë¯¸í„° messageë¥¼ ë¬¸ìì—´(s)ë¡œ ì„¤ì •
- %6$s: 6$ë¡œ íŒŒë¼ë¯¸í„° thrownì„ ë¬¸ìì—´(s)ë¡œ ì„¤ì •

<br>

## ë¡œê·¸ ì¶œë ¥ì„ ì œì–´í•˜ëŠ” í”„ë¡œí¼í‹° íŒŒì¼

- ë¡œê·¸ ì¶œë ¥ì— ê´€í•œ ì„¤ì •ì„ ê¸°ìˆ : logging.properties í”„ë¡œí¼í‹° íŒŒì¼
- JDKë¥¼ ì„¤ì¹˜í•œ í´ë” ì•„ë˜ì˜ ğŸ‘‰`jre\lib`ì— ì €ì¥
- test
<!-- > <img src="./image-7.png" alt="img7"> -->

- ìì£¼ ì„¤ì •í•˜ëŠ” ê²ƒ: hanlders, .level, formatter

### ë¡œê·¸ ì¶œë ¥ì„ ë³€ê²½í•˜ëŠ” ë°©ë²•

> - í‘œì¤€ í”„ë¡œí¼í‹° íŒŒì¼ì„ ì§ì ‘ í¸ì§‘í•œë‹¤.
> - í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì„¤ì •í•œë‹¤.
> - ì§ì ‘ í”„ë¡œí¼í‹° íŒŒì¼ì„ ì‘ì„±í•œë‹¤.

## FileHandler í•¸ë“¤ëŸ¬ ì§€ì •

- ConsoleHandlerì™€ í•¨ê»˜ ìì£¼ ì´ìš©í•˜ëŠ” í•¸ë“¤ëŸ¬: FileHandler

### FileHandlerì˜ í”„ë¡œí¼í‹°

| ì„¤ì •í•­ëª©  | ì„¤ëª…                                                                                                                                                                                                                                                                                                                              |
| :-------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| pattern   | ì¶œë ¥ íŒŒì¼ëª…ì„ ì •í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•˜ëŠ” ë° ì‚¬ìš©<br>- `/`: íŒŒì¼ ê²½ë¡œ êµ¬ë¶„<br>- `%t`: ì‹œìŠ¤í…œ ì„ì‹œ í´ë” <br> - `%h`:user.home ì‹œìŠ¤í…œ í”„ë¡œí¼í‹° ê°’<br>- `%g`: ë¡œê·¸ ë¡œí…Œì´ì…˜ì„ ì‹ë³„í•˜ëŠ” ìƒì„± ë²ˆí˜¸(0, 1, 2...ì²˜ëŸ¼ ì—°ì†ëœ ë²ˆí˜¸). java%g.logë¡œ ì§€ì •í•œ ê²½ìš°, java0.log, java1.log... ì²˜ëŸ¼ ì¹´ìš´íŠ¸ <br> - `%u`: ì¤‘ë³µì„ í•´ê²°í•˜ê¸° ìœ„í•œ ìœ ì¼í•œ ë²ˆí˜¸ |
| limit     | ì¶œë ¥ íŒŒì¼ì˜ ìµœëŒ€ í¬ê¸°(ë‹¨ìœ„ëŠ” ë°”ì´íŠ¸)                                                                                                                                                                                                                                                                                              |
| count     | ì¶œë ¥ íŒŒì¼ì„ `ìˆœí™˜`í•  ìµœëŒ€ ìˆ˜                                                                                                                                                                                                                                                                                                      |
| formatter | ì¶œë ¥ì„ ìœ„í•œ í¬ë§¤í„°                                                                                                                                                                                                                                                                                                                |
| filter    | ë¡œê·¸ë¥¼ ì¶œë ¥í•  ê³³ì„ ì„¤ì •í•˜ëŠ” ë° ì‚¬ìš©(ê¸°ë³¸ì€ ì§€ì •í•˜ì§€ ì•ŠìŒ)                                                                                                                                                                                                                                                                         |
| encoding  | ì‚¬ìš©í•  ë¬¸ìì…‹ ì¸ì½”ë”© ì´ë¦„                                                                                                                                                                                                                                                                                                         |
| append    | íŒŒì¼ì„ ì¶”ê°€ ëª¨ë“œë¡œ í•  ê²½ìš°ì—ëŠ” trueë¡œ ì„¤ì •(ê¸°ë³¸ì€ false)                                                                                                                                                                                                                                                                          |
| level     | ë¡œê·¸ ë ˆë²¨                                                                                                                                                                                                                                                                                                                         |

> - ì˜ˆë¥¼ ë“¤ì–´ test%u.%g.logë¡œ ì§€ì •í•œ ê²½ìš°, test1.0.log, test2.0.log, test3.0.logì²˜ëŸ¼ íŒŒì¼ëª…ì´ ì„¤ì •ë©ë‹ˆë‹¤.

- `ìˆœí™˜`: ì§€ì •í•œ ë¡œê·¸ ìˆ˜ë¥¼ ì´ˆê³¼í•˜ë©´ ì˜¤ë˜ëœ ê²ƒë¶€í„° ì‚­ì œí•˜ëŠ” ê²ƒ. ì§€ì •í•œ ìˆ˜ì§€ë³´ë‹¤ ë¡œê·¸ ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ì§€ ì•Šê²Œ ì œì–´í•˜ëŠ” í•­ëª©ì´ë‹¤.

#### ê¸°ë³¸ ë¡œê·¸ ì¶œë ¥ ë ˆë²¨

- `.level`: ê¸°ë³¸ì ìœ¼ë¡œ INFOë¡œ ë˜ì–´ìˆë‹¤.
- ì¶œë ¥í•˜ê³  ì‹¶ì€ ë ˆë²¨ë¡œ ì„¤ì •í•˜ë ¤ë©´ [ë¡œê·¸ ë ˆë²¨ì˜ ì¢…ë¥˜](#ë¡œê·¸-ë ˆë²¨)ì„ ì°¸ì¡°!

### 1) ì½˜ì†”ì— ë¡œê·¸ ì¶”ë ¥

- java.util.logging íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•˜ëŠ” êµ¬ì²´ì ì¸ ì˜ˆ
- System.out.println ë©”ì„œë“œë¥¼ ë‹¨ìˆœíˆ ë¡œê±°ë¡œ ì¹˜í™˜í•˜ëŠ” ì˜ˆ

```java
package org.example.log;

import java.util.logging.ConsoleHandler;
import java.util.logging.Level;
import java.util.logging.Logger;

// ì½˜ì†”ì— ë¡œê·¸ ì¶œë ¥
public class OutputConsoleLog {
    public static void main(String[] args) {
        // INFO ë ˆë²¨ ì„¤ì •
        // ì§€ì •í•œ ë¡œê·¸ ë ˆë²¨ì„ ì„¤ì •í•œë‹¤.
        Logger.getGlobal().setLevel(Level.INFO); // ë¡œê±°ì— ì„¤ì •í•  ì´ë¦„ì„ ì¸ìˆ˜ë¡œ ì§€ì •

        Logger logger = Logger.getLogger(Logger.GLOBAL_LOGGER_NAME);
        // ì§€ì •í•œ ì„œë¸Œ ì‹œìŠ¤í…œì˜ ë¡œê±°ë¥¼ ì·¨ë“ ë° ìƒì„±í•œë‹¤.

        // ë¡œê·¸ ì¶œë ¥ ë°©ì‹ ì„¤ì •
        logger.addHandler(new ConsoleHandler(){
            {
                setOutputStream(System.out);
                setLevel(Level.INFO);
            }
        });

        Logger.getGlobal().severe("ë¡œê·¸ ë ˆë²¨: severe");
        Logger.getGlobal().warning("ë¡œê·¸ ë ˆë²¨: warning");
        Logger.getGlobal().info("ë¡œê·¸ ë ˆë²¨: info");
        Logger.getGlobal().config("ë¡œê·¸ ë ˆë²¨: config");
        Logger.getGlobal().fine("ë¡œê·¸ ë ˆë²¨: fine");
        Logger.getGlobal().finer("ë¡œê·¸ ë ˆë²¨: finer");
        Logger.getGlobal().finest("ë¡œê·¸ ë ˆë²¨: finest");
    }
}

---------------------------------------------------
// ì½˜ì†” ì¶œë ¥ ê²°ê³¼
"C:\Program Files\Java\jdk-17.0.5\bin\java.exe" "-javaagent:C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2023.1\lib\idea_rt.jar=58102:C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2023.1\bin" -Dfile.encoding=UTF-8 -classpath C:\Users\SEOJIN\SJ_STUDY\DBTest\target\classes;C:\Users\SEOJIN\.m2\repository\org\postgresql\postgresql\42.5.1\postgresql-42.5.1.jar;C:\Users\SEOJIN\.m2\repository\org\checkerframework\checker-qual\3.5.0\checker-qual-3.5.0.jar org.example.log.OutputConsoleLog
2ì›” 08, 2024 4:31:23 ì˜¤í›„ org.example.log.OutputConsoleLog main
SEVERE: ë¡œê·¸ ë ˆë²¨: severe
2ì›” 08, 2024 4:31:23 ì˜¤í›„ org.example.log.OutputConsoleLog main
WARNING: ë¡œê·¸ ë ˆë²¨: warning
2ì›” 08, 2024 4:31:23 ì˜¤í›„ org.example.log.OutputConsoleLog main
INFO: ë¡œê·¸ ë ˆë²¨: info


```

---

### 2) í”„ë¡œê·¸ë¨ ë‚´ë¶€ì—ì„œ í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •í•´ ë¡œê·¸ ì¶œë ¥

- ë¡œê·¸ ì¶œë ¥ ë°©ë²•ì„ ë³€ê²½í•  ë•Œ, í”„ë¡œê·¸ë¨ ë‚´ë¶€ì—ì„œ í”„ë¡œí¼í‹° ì •ë³´ë¥¼ ì§ì ‘ í¸ì§‘í•  ìˆ˜ë„ ìˆë‹¤.
- java.util.logging íŒ¨í‚¤ì§€ì˜ í´ë˜ìŠ¤ëŠ” LogManager í´ë˜ìŠ¤ì˜ ì„¤ì •ì— ë”°ë¼ ë™ì‘í•˜ê²Œ ë˜ì–´ìˆë‹¤.
- í”„ë¡œí¼í‹° ë‚´ìš©ì€ ìƒìˆ˜ PROPERTIES_STRINGì— ì„¤ì •í–ˆë‹¤.
  > - í•¸ë“¤ëŸ¬ì—ëŠ” java.util.logging.ConsoleHandler(ì½˜ì†”ë¡œ ì¶œë ¥)ë¥¼ ì„¤ì •
  > - ë¡œê·¸ ë ˆë²¨ì€ info
  > - ì¶œë ¥ë˜ëŠ” ë¡œê·¸ì˜ ë ˆì´ì•„ì›ƒì„ ë³€ê²½í•˜ê¸° ìœ„í•œ SimpleFormatter ì„¤ì •
  > - SimpleFormatter ì˜ ì¶œë ¥í˜•ì‹ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•

```java
package org.example.log;

import java.io.ByteArrayInputStream;
import java.util.logging.LogManager;
import java.util.logging.Logger;

// í”„ë¡œê·¸ë¨ ë‚´ë¶€ì—ì„œ í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •í•´ ë¡œê·¸ ì¶œë ¥
public class SampleLogger1 {
    // í”„ë¡œí¼í‹° ì„¤ì • ë‚´ìš©
    protected static final String PROPERTIES_STRING = "handlers=java.util.logging.ConsoleHandler\n"
            + ".level=INFO\n"
            + "java.util.logging.ConsoleHandler.level=INFO\n"
            + "java.util.logging.SimpleFormatter.format=%1$tY-%1$tm-%1$tdd %1$tH:%1$tM:%1$tS.%1$tL %1$tZ %4$s [%3$s] %5$s (%2$s) %6$s%n\n";

    private static Logger logger = null;

    // ìŠ¤íƒœí‹± ì´ë‹ˆì…œë¼ì´ì €ë¡œ LogManagerì— ê°’ì„ ì„¤ì •í•œë‹¤.
    // static ì´ë‹ˆì…œë¼ì´ì €: í´ë˜ìŠ¤ ë¡œë“œ ì‹œ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” ì²˜ë¦¬
    static{
        try{
            //LogManagerì— í”„ë¡œí¼í‹° ì„¤ì • ë‚´ìš©ì„ ê°€ì ¸ì˜¨ë‹¤.
            // readConfiguration ë©”ì„œë“œì˜ ì—­í• ì´ë‹¤. (í”„ë¡œí¼í‹° ì„¤ì •ì„ ì½ì–´ë“¤ì´ëŠ” ê²ƒ)
            // ìƒìˆ˜ PROPERTIES_STRINGì˜ ë‚´ìš©ì„ ByteArrayInputStream ê°ì²´ë¥¼ ê±°ì³ ì½ì–´ë“¤ì´ê³  ìˆë‹¤.
            LogManager.getLogManager().readConfiguration(new ByteArrayInputStream(PROPERTIES_STRING.getBytes("UTF-8")));
            logger = Logger.getLogger(SampleLogger1.class.getName());
        }catch (Exception e){
            e.printStackTrace();
        }
    }

    public static void main(String[] args) {
        SampleLogger1 saLogger = new SampleLogger1();
        saLogger.outLog();
    }

    public void outLog(){
        logger.severe("LOGTEST: SEVERE ë ˆë²¨");
        logger.warning("LOGTEST: WARNING ë ˆë²¨");
        logger.info("LOGTEST: INFO ë ˆë²¨");
        logger.config("LOGTEST: CONFIG ë ˆë²¨");
        logger.fine("LOGTEST: FINE ë ˆë²¨");
        logger.finer("LOGTEST: FINER ë ˆë²¨");
        logger.finest("LOGTEST: FINEST ë ˆë²¨");
    }

}

--------
// ì¶œë ¥ ê²°ê³¼
"C:\Program Files\Java\jdk-17.0.5\bin\java.exe" "-javaagent:C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2023.1\lib\idea_rt.jar=58202:C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2023.1\bin" -Dfile.encoding=UTF-8 -classpath C:\Users\SEOJIN\SJ_STUDY\DBTest\target\classes;C:\Users\SEOJIN\.m2\repository\org\postgresql\postgresql\42.5.1\postgresql-42.5.1.jar;C:\Users\SEOJIN\.m2\repository\org\checkerframework\checker-qual\3.5.0\checker-qual-3.5.0.jar org.example.log.SampleLogger1
2024-02-08d 16:48:11.734 KST SEVERE [org.example.log.SampleLogger1] LOGTEST: SEVERE ë ˆë²¨ (org.example.log.SampleLogger1 outLog)
2024-02-08d 16:48:11.927 KST WARNING [org.example.log.SampleLogger1] LOGTEST: WARNING ë ˆë²¨ (org.example.log.SampleLogger1 outLog)
2024-02-08d 16:48:11.928 KST INFO [org.example.log.SampleLogger1] LOGTEST: INFO ë ˆë²¨ (org.example.log.SampleLogger1 outLog)

```

<!-- <img src="./image-9.png" alt="img9"> -->

### 3) í”„ë¡œí¼í‹° íŒŒì¼ì„ ì‚¬ìš©í•´ì„œ ë¡œê·¸ ì¶œë ¥

- ì¼ë°˜ì ìœ¼ë¡œ ì„¤ì • ì •ë³´ëŠ” ì™¸ë¶€ì— ë‘ëŠ” ê²ƒì´ ë‚˜ì¤‘ì— ìˆ˜ì •í•˜ê¸°ë„ í¸ë¦¬í•˜ë‹¤.
- ì„¤ì • ì •ë³´ë¥¼ ì™¸ë¶€ì— ë‘ë©´ ì„¤ì •ì´ ë°”ë€Œì–´ë„ í”„ë¡œê·¸ë¨ ë³¸ì²´ë¥¼ ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.
- ë¡œê·¸ ì¶œë ¥ ë‚´ìš©ì„ ì„¤ì •í•œ í”„ë¡œí¼í‹° íŒŒì¼ì„ ì§ì ‘ ì‘ì„±í•´ì„œ ë¡œê¸€ë¥´ ì¶œë ¥í•˜ëŠ” ë°©ë²•

- í”„ë¡œí¼í‹° íŒŒì¼ëª…ì€ Logger.propertiesë¡œ í•œë‹¤.
- í™•ì¥ìê°€ `.properties` ë¶™ì´ê¸°ë§Œ í•˜ë©´, íŒŒì¼ëª…ì€ ììœ ë¡­ê²Œ ì§€ì •í•´ë„ ìƒê´€ì—†ë‹¤.

```properties
# ë¡œê·¸ ì¶œë ¥ ë°©ì‹ ì§€ì •
# ì½˜ì†”ì— ë¡œê·¸ë¥¼ ì¶œë ¥ + íŒŒì¼ì— ë¡œê·¸ë¥¼ ì¶œë ¥ (ì–‘ìª½ ëª¨ë‘ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì )
handlers= java.util.logging.ConsoleHandler, java.util.logging.FileHandler.level=FINE

# í•¸ë“¤ëŸ¬ ê³µí†µì˜ ì¶œë ¥ ë ˆë²¨
# ê°œë³„ í•¸ë“¤ëŸ¬ì—ì„œ ì‚¬ìš©í•  ë¡œê·¸ ë ˆë²¨ì„ ì§€ì •í•  ìˆ˜ ìˆì§€ë§Œ, INFOë¡œ ì„¤ì •í–ˆìœ¼ë¯€ë¡œ
# ê°œë³„ í•¸ë“¤ëŸ¬ ì„¤ì • ì‹œ FINEìœ¼ë¡œ ì§€ì •í•´ë„ INFOê¹Œì§€ì˜ ë¡œê·¸ë§Œ ì¶œë ¥ëœë‹¤.
java.util.logging.ConsoleHandler.level=INFO
java.util.logging.ConsoleHandler.formatter=java.util.logging.SimpleFormatter

# FileHandler ì¶œë ¥ ë ˆë²¨ì€ FINEìœ¼ë¡œ ì„¤ì •
java.util.loggingFileHandler.level=FINEST
java.util.loggin.FileHandler.pattern=TestPropertiesLog%u.%g.log
# SimpleFormatterì˜ ë¡œê·¸ ì¶œë ¥ì€ ê¸°ë³¸ì ìœ¼ë¡œ 2ì¤„ë¡œ ì¶œë ¥ëœë‹¤.
java.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter
# ì„œì‹ì„ ì§ì ‘ ëª…ì‹œ 1ì¤„ë¡œ í‘œì‹œí•˜ë„ë¡
java.util.logging.FileHandler.pattern=C:/temp/SampleLogger%u.%g.log
java.util.logging.FileHandler.append=true
java.util.logging.FileHandler.count=5

java.util.logging.SimpleFormatter.format=%1$tF %1$tT.%1$tL %4$s %2$s %5$s %6$s%n
```

### í”„ë¡œí¼í‹° íŒŒì¼ì˜ ë°°ì¹˜ ì¥ì†Œ

- í˜„ì¬ í´ë”ì—ì„œ ì½ì–´ë“¤ì´ëŠ” ë°©ë²•
- í´ë˜ìŠ¤ ë¡œë”ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•

1. í˜„ì¬ í´ë”ì—ì„œ ì½ì–´ë“¤ì´ëŠ” ë°©ë²•

```java
private static final String PROPERTIES = "SampleLogger.properties";
InputStream inStream = new FileInputStream(PROPERTIES);
LogManager.getLogManager().readConfiguration(inStream);
```

2. í´ë˜ìŠ¤ ë¡œë” ì‚¬ìš©

```java
private static final String PROPERTIES = "SampleLogger.properties";
final InputStream inStream = SampleLogger2.class.getClassLoader().getResourceAsStream(PROPERTIES);
LogManager.getLogManager().readConfiguration(inStream);
```

- ì‹¤í–‰í•  íŒŒì¼ì„ ì €ì¥í•œ src/main/resources í´ë” ì•„ë˜ í”„ë¡œí¼í‹° íŒŒì¼ì„ ë°°ì¹˜í•œë‹¤.
- ê·¸ë¦¬ê³  ë‹¤ìŒê³¼ ê°™ì´ LogManagerë¥¼ ì„¤ì •í•œë‹¤.
- ì—¬ê¸°ì„œëŠ” í”„ë¡œí¼í‹° íŒŒì¼ì„ ìƒìˆ˜ë¡œ ì§€ì •í–ˆë‹¤. (ì§ì ‘ íŒŒì¼ëª…ì„ ì§€ì •í•´ë„ ìƒê´€ì—†ìŒ)

```properties
# Logger.properties íŒŒì¼ëª…

handlers=java.util.logging.ConsoleHandler, java.util.logging.FileHandler
.level=FINE

java.util.logging.ConsoleHandler.level=INFO
java.util.logging.ConsoleHandler.formatter=java.util.logging.SimpleFormatter

java.util.loggingFileHandler.level=FINEST
java.util.loggin.FileHandler.pattern=TestPropertiesLog%u.%g.log
java.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter
java.util.logging.FileHandler.append=true
java.util.logging.FileHandler.count=5

java.util.logging.SimpleFormatter.format=%1$tF %1$tT.%1$tL %4$s %2$s %5$s %6$s%n
```

---

```java
// SampleLogger2.java
package org.example.log;

import java.io.IOException;
import java.io.InputStream;
import java.util.logging.LogManager;
import java.util.logging.Logger;

public class SampleLogger2 {
    // ë¡œê·¸ ì„¤ì • í”„ë¡œí¼í‹° íŒŒì¼ëª…
    private static final String PROPERTIES = "Logger.properties";
    private static Logger logger = null;

    static{
        try{
            logger = Logger.getLogger(SampleLogger2.class.getName());
            // í´ë˜ìŠ¤ íŒ¨ìŠ¤ ì•ˆì—ì„œ í”„ë¡œí¼í‹° íŒŒì¼ ì·¨ë“
            logger.fine("ë¡œê·¸ ì„¤ì • í”„ë¡œí¼í‹° íŒŒì¼: "+ PROPERTIES + "ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¡œê·¸ ì„¤ì •");
            final InputStream inpStm = SampleLogger2.class.getClassLoader().getResourceAsStream(PROPERTIES);

            // í”„ë¡œí¼í‹° íŒŒì¼ì„ ì°¾ì§€ ëª»í•˜ë©´ ì˜¤ë¥˜ë¥¼ ë˜ì§„ë‹¤.
            if(inpStm == null){
               logger.info("ë¡œê·¸ ì„¤ì •: " + PROPERTIES + "ëŠ” í´ë˜ìŠ¤ íŒ¨ìŠ¤ ìƒì—ì„œ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
            }else{
                try{
                    // í”„ë¡œí¼í‹° íŒŒì¼ì˜ ë‚´ìš©ì„ ë¡œê·¸ ë§¤ë‹ˆì €ì— ì„¤ì •
                    LogManager.getLogManager().readConfiguration(inpStm);
                    logger.info("ë¡œê·¸ ì„¤ì • ì™„ë£Œ: LogManagerë¥¼ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.");
                }catch (IOException e){
                    logger.warning("ë¡œê·¸ ì„¤ì • ì‹¤íŒ¨: LogManager ì„¤ì • ì‹œ "+ "ì˜ˆì™¸ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: " + e.toString());
                }finally {
                    try{
                        if(inpStm != null)
                            inpStm.close();
                    }catch (IOException e){
                        logger.warning("ë¡œê·¸ ì„¤ì • ì‹¤íŒ¨: ë¡œê·¸ ì„¤ì • í”„ë¡œí¼í‹° " + " íŒŒì¼ ë‹«ê¸° ì‹œ ì˜ˆì™¸ê°€ " + "ë°œìƒí–ˆìŠµë‹ˆë‹¤: " + e.toString());
                    }
                }
            }
        }catch (Exception e){
            e.printStackTrace();
        }
    }

    public static void main(String[] args) {
        SampleLogger2 sampleLogger2 = new SampleLogger2();
        sampleLogger2.outLog();
    }

    public void outLog(){
        logger.severe("LOGTEST: SEVERE ë ˆë²¨");
        logger.warning("LOGTEST: WARNING ë ˆë²¨");
        logger.info("LOGTEST: INFO ë ˆë²¨");
        logger.config("LOGTEST: CONFIG ë ˆë²¨");
        logger.fine("LOGTEST: FINE ë ˆë²¨");
        logger.finer("LOGTEST: FINER ë ˆë²¨");
        logger.finest("LOGTEST: FINEST ë ˆë²¨");
    }
}

```
